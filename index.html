<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8" />
<title>Artisan Pro – Auto Adaptatif</title>

<meta name="viewport" content="width=device-width, initial-scale=1">

<style>
  html, body {
    margin: 0;
    padding: 0;
    background: #000;
    overflow: hidden;
  }

  #crop {
    position: relative;
    width: 100%;
    height: 100vh;
    overflow: hidden;
  }

  iframe {
    position: absolute;
    left: 0;
    width: 100%;
    border: none;
    
    /* Valeurs initiales de sécurité */
    top: 0;
    height: 100vh;
  }
</style>
</head>

<body>

<div id="crop">
  <iframe id="site" src="https://rk7arn-my-site-9ya48e6c-smarttlelearning.wix-vibe.com"></iframe>
</div>

<script>
/* ======== AUTO-CALIBRAGE INTELLIGENT ======== */

/* On ajuste automatiquement le recadrage selon :
   - hauteur de l'écran
   - ratio
   - espace mangé par Wix
*/

function recalibreIframe() {
  const iframe = document.getElementById("site");
  const vh = window.innerHeight;

  /* Ajustement dynamique :
     – Sur grand écran, Wix ajoute une bande haute ≈ 70–110px
     – Sur mobile, ≈ 40–70px
  */

  let margeHaut = 0;
  let margeBas = 0;

  if (vw > 1200) {            // grands écrans
    margeHaut = -65;
    margeBas  = 220;
  } 
  else if (vw > 768) {        // laptops
    margeHaut = -55;
    margeBas  = 260;
  }
  else {                      // téléphones
    margeHaut = -35;
    margeBas  = 300;
  }

  iframe.style.top = margeHaut + "px";
  iframe.style.height = `calc(100vh + ${margeBas}px)`;
}

/* Recalibre lors :
– du chargement
– du changement d'orientation
– du redimensionnement
*/

window.addEventListener("load", recalibreIframe);
window.addEventListener("resize", recalibreIframe);
window.addEventListener("orientationchange", recalibreIframe);
</script>

</body>
</html>
